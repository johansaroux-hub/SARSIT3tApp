<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>IT3(t) Submission System</title>
    https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/></head>
<body><div class="container mt-4">
<div class="container mt-4">
<h1 class="mb-3">IT3(t) Submission System</h1>
<h2 class="mb-3">Trusts</h2>
<a class="btn btn-primary mb-3" href="{{ url_for('add_trust') }}">Add New Trust</a>
<div class="table-responsive">
<table class="table table-bordered table-hover align-middle">
<thead class="table-light">
<tr>
<th>Trust Registration Number</th>
<th>Trust Name</th>
<th>Tax Number</th>
<th>Status</th>
<th>Reporting Date</th>
<th>Nature of Person</th>
<th>Trust Type</th>
<th>Residency</th>
<th>Masters Office</th>
<th>Physical Address</th>
<th>Postal Address</th>
<th>Contact Number</th>
<th>Cell Number</th>
<th>Email</th>
<th>Actions</th>
</tr>
</thead>
<tbody>
                    {% for trust in trusts %}
                    <tr>
<td>{{ trust['TrustRegNumber'] }}</td>
<td>{{ trust['TrustName'] }}</td>
<td>{{ trust['TaxNumber'] or 'N/A' }}</td>
<td>{{ trust['Status'] or 'N/A' }}</td>
<td>{{ trust['ReportingDate'] or 'N/A' }}</td>
<td>{{ trust['NatureOfPerson'] or 'N/A' }}</td>
<td>{{ trust['TrustType'] or 'N/A' }}</td>
<td>{{ trust['Residency'] or 'N/A' }}</td>
<td>{{ trust['MastersOffice'] or 'N/A' }}</td>
<td>
                            {{ trust['PhysicalUnitNumber'] or '' }}
                            {{ trust['PhysicalComplex'] or '' }}
                            {{ trust['PhysicalStreetNumber'] or '' }}
                            {{ trust['PhysicalStreet'] or '' }},
                            {{ trust['PhysicalSuburb'] or '' }},
                            {{ trust['PhysicalCity'] or '' }},
                            {{ trust['PhysicalPostalCode'] or '' }}
                        </td>
<td>
                            {% if trust['PostalSameAsPhysical'] %}
                                Same as Physical
                            {% else %}
                                {{ trust['PostalAddressLine1'] or '' }},
                                {{ trust['PostalAddressLine2'] or '' }},
                                {{ trust['PostalAddressLine3'] or '' }},
                                {{ trust['PostalAddressLine4'] or '' }},
                                {{ trust['PostalCode'] or '' }}
                            {% endif %}
                        </td>
<td>{{ trust['ContactNumber'] or 'N/A' }}</td>
<td>{{ trust['CellNumber'] or 'N/A' }}</td>
<td>{{ trust['Email'] or 'N/A' }}</td>
<td>
<div class="d-grid gap-1">
<a class="btn btn-sm btn-warning" href="{{ url_for('edit_trust', trust_id=trust['TrustID']) }}">Edit</a>
<a class="btn btn-sm btn-danger" href="{{ url_for('delete_trust', trust_id=trust['TrustID']) }}" onclick="return confirm('Are you sure you want to delete this trust?')">Delete</a>
<a class="btn btn-sm btn-info" href="{{ url_for('view_beneficiaries', trust_id=trust['TrustID']) }}">Beneficiaries</a>
<a class="btn btn-sm btn-secondary" href="{{ url_for('view_financial_transactions', trust_id=trust['TrustID']) }}">Financial Transactions</a>
<a class="btn btn-sm btn-success" href="{{ url_for('view_submissions', trust_id=trust['TrustID']) }}">Submissions</a>
<a class="btn btn-sm btn-dark" href="{{ url_for('simulate_submission', trust_id=trust['TrustID']) }}">Simulate Submission</a>
</div>
</td>
</tr>
                    {% else %}
                    <tr>
<td class="text-center" colspan="15">No trusts found.</td>
</tr>
                    {% endfor %}
                </tbody>
</table>
</div>
</div>
</div></body>
</html>
